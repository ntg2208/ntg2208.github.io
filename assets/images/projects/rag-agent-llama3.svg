<svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient id="ragAgentBg" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#faf5ff"/>
            <stop offset="100%" stop-color="#f3e8ff"/>
        </linearGradient>
        <linearGradient id="llama3Grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#8b5cf6"/>
            <stop offset="100%" stop-color="#6d28d9"/>
        </linearGradient>
    </defs>

    <rect width="400" height="300" fill="url(#ragAgentBg)"/>

    <!-- Query Input -->
    <g transform="translate(50, 60)">
        <rect x="0" y="0" width="80" height="35" fill="white" stroke="#8b5cf6" stroke-width="2" rx="17.5"/>
        <text x="40" y="23" text-anchor="middle" fill="#7c3aed" font-size="12" font-weight="600">Query</text>
    </g>

    <!-- Routing Function -->
    <g transform="translate(200, 50)">
        <polygon points="0,0 30,20 0,40 -30,20" fill="#c084fc" opacity="0.8"/>
        <text x="0" y="25" text-anchor="middle" fill="white" font-size="10" font-weight="700">Route</text>
    </g>

    <!-- Web Search Path -->
    <g transform="translate(280, 30)">
        <circle cx="0" cy="0" r="20" fill="#3b82f6" opacity="0.8"/>
        <text x="0" y="5" text-anchor="middle" fill="white" font-size="20">🌐</text>
        <text x="0" y="35" text-anchor="middle" fill="#1e40af" font-size="9" font-weight="600">Web</text>
    </g>

    <!-- Knowledge Base Path -->
    <g transform="translate(280, 100)">
        <rect x="-20" y="-20" width="40" height="40" fill="#10b981" opacity="0.8" rx="5"/>
        <text x="0" y="-5" text-anchor="middle" fill="white" font-size="20">📚</text>
        <text x="0" y="35" text-anchor="middle" fill="#059669" font-size="9" font-weight="600">Knowledge</text>
    </g>

    <!-- Llama3 Agent -->
    <g transform="translate(200, 140)">
        <ellipse cx="0" cy="0" rx="60" ry="45" fill="url(#llama3Grad)" opacity="0.9"/>
        <text x="0" y="-5" text-anchor="middle" fill="white" font-size="28">🦙</text>
        <text x="0" y="30" text-anchor="middle" fill="white" font-size="11" font-weight="700">Llama3</text>
    </g>

    <!-- Self-Correction Loop -->
    <path d="M150,160 Q120,180 140,200 Q160,210 180,195" stroke="#ef4444" stroke-width="2" fill="none" stroke-dasharray="4,2"/>
    <text x="120" y="195" fill="#dc2626" font-size="8" font-weight="600">Self-correct</text>

    <!-- Response -->
    <g transform="translate(200, 220)">
        <rect x="-50" y="0" width="100" height="35" fill="#10b981" rx="17.5"/>
        <text x="0" y="23" text-anchor="middle" fill="white" font-size="12" font-weight="600">Answer ✓</text>
    </g>

    <text x="200" y="278" text-anchor="middle" fill="#6d28d9" font-family="Inter, sans-serif" font-size="14" font-weight="700">
        RAG Agent with Llama3
    </text>
</svg>
