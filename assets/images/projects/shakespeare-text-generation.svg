<svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient id="bgShake" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#fef3c7"/>
            <stop offset="50%" stop-color="#fde68a"/>
            <stop offset="100%" stop-color="#fcd34d"/>
        </linearGradient>
        <linearGradient id="bookGrad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#92400e"/>
            <stop offset="100%" stop-color="#78350f"/>
        </linearGradient>
    </defs>

    <rect width="400" height="300" fill="url(#bgShake)"/>

    <!-- Open Book -->
    <g transform="translate(150, 100)">
        <path d="M0,0 Q50,-10 100,0 L100,80 Q50,70 0,80 Z" fill="url(#bookGrad)" opacity="0.9"/>
        <path d="M100,0 Q50,-10 0,0 L0,80 Q50,70 100,80 Z" fill="url(#bookGrad)" opacity="0.7" transform="translate(100, 0) scale(-1, 1)"/>

        <!-- Text lines -->
        <line x1="15" y1="20" x2="45" y2="18" stroke="#fcd34d" stroke-width="2"/>
        <line x1="15" y1="30" x2="40" y2="28" stroke="#fcd34d" stroke-width="2"/>
        <line x1="15" y1="40" x2="45" y2="38" stroke="#fcd34d" stroke-width="2"/>

        <line x1="55" y1="20" x2="85" y2="18" stroke="#fcd34d" stroke-width="2"/>
        <line x1="60" y1="30" x2="85" y2="28" stroke="#fcd34d" stroke-width="2"/>
        <line x1="55" y1="40" x2="85" y2="38" stroke="#fcd34d" stroke-width="2"/>
    </g>

    <!-- Quill Pen -->
    <g transform="translate(320, 120) rotate(20)">
        <path d="M0,0 L-5,30 L0,35 L5,30 Z" fill="#78350f"/>
        <ellipse cx="0" cy="40" rx="3" ry="8" fill="#1f2937"/>
    </g>

    <!-- HMM States -->
    <g transform="translate(50, 200)">
        <circle cx="0" cy="0" r="15" fill="#dc2626" opacity="0.8"/>
        <circle cx="50" cy="0" r="15" fill="#ea580c" opacity="0.8"/>
        <circle cx="100" cy="0" r="15" fill="#d97706" opacity="0.8"/>

        <path d="M15,0 L35,0" stroke="#78350f" stroke-width="2" marker-end="url(#arrowShake)"/>
        <path d="M65,0 L85,0" stroke="#78350f" stroke-width="2" marker-end="url(#arrowShake)"/>
    </g>

    <defs>
        <marker id="arrowShake" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
            <polygon points="0 0, 6 3, 0 6" fill="#78350f"/>
        </marker>
    </defs>

    <text x="200" y="270" text-anchor="middle" fill="#78350f" font-family="Inter, serif" font-size="16" font-weight="700">
        Shakespeare Text Generation
    </text>
</svg>
